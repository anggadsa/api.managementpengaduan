generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model PengaduanMasyarakatModel {
  id                                       String                                    @id @default(uuid())
  userId                                   String
  namaPelapor                              String
  tanggalLahir                             DateTime
  tempatLahir                              String
  jenisKelamin                             String
  agama                                    String
  pekerjaan                                String
  nik                                      String
  nikFiles                                 String
  noHandphone                              String
  email                                    String
  alamatPelapor                            String
  notarisId                                String                                    @unique @default(uuid())
  namaNotaris                              String
  wilayahNotaris                           String
  alamatKantorNotaris                      String
  isPenegakHukum                           Boolean                                   @default(false)
  namaKuasaHukum                           String
  dokumenKuasaHukum                        String
  nomerSuratKuasa                          String                                    @unique
  tanggalSuratKuasa                        DateTime
  namaKantorSuratKuasa                     String
  alamatKantorSuratKuasa                   String
  detailLaporan                            String
  jenisPerkara                             String
  suratPengaduan                           String
  status                                   Status                                    @default(draft)
  recInsert                                DateTime                                  @default(now())
  recUpdate                                DateTime?                                 @updatedAt
  isVerified                               Boolean
  tanggalVerifikasi                        DateTime
  catatanTolakVerifikasi                   String
  pengaduanMasyarakat_BuktiPendukungModels PengaduanMasyarakat_BuktiPendukungModel[]

  @@unique([notarisId, nomerSuratKuasa, id])
}

model PengaduanMasyarakat_BuktiPendukungModel {
  id                         String                    @id @default(uuid())
  buktiFile                  String
  pengaduanMasyarakatModelId String?
  createdAt                  DateTime                  @default(now())
  updatedAt                  DateTime                  @updatedAt
  pengaduanMasyarakatModel   PengaduanMasyarakatModel? @relation(fields: [pengaduanMasyarakatModelId], references: [id])

  @@index([pengaduanMasyarakatModelId], map: "PengaduanMasyarakat_BuktiPendukungModel_PengaduanMasyarakat_fkey")
}

enum Status {
  draft
  menungguVerifikasi
  diterima
}
